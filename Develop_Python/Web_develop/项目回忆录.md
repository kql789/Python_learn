# 项目回忆录

## 你在新项目中遇到过哪些困难/具体负责的内容有哪些？

1. 我们昨天开会决定新项目采取前后端分离；
   针对http五组昂泰的问题，我们采取了token的解决方案，[jwt,base62机密了基础数据，通过hmac-sha256签名key]
   。在自主研发jwt签发/校验逻辑的过程中  
   我们发现base64转码结果有很多'=',这样的话就严重影响了传输效率，加大了带宽成本[用户及我们公司]
   ,在这个问题上，我们调研了jwt官方的实现，发现jwt也进行了相关优化，替换掉了  
   base64结果中的'=',[调研了base64的实现原理，发现base64编码后总长度一定是4的倍数]
   ，并且在优化上，我们将jwt的header部分取消，减少冗余，以上成果  
   得到了公司(领导)的高度认可。

2. 老板说，SEO(搜索引擎优化)，我们初步的方案是根据搜索网站爬虫的user-agent返回纯静态[带内容文字]的网页，供其尽情享受！
   但是这部分，可能晚辈细节把我的不太到位，因为分给了我们前端工程师们去处理。
3. web版本的产品任务，我们遇到了跨域的问题；那我们调研了常规的跨域方案，script的src以及jquery的jsonp，cors；
   s-src实现成本高，只能发出get请求；jsonp只是简化了前段的工作，后端成本未改变，也是只能发出get请求；    
   由于cors的灵活性【支持各种http请求，且后端只需要进行一次通用配置，即可使用】。


      PS：我们起初尝试在线安装django-cors，发现本地django版本被强制升级到了2.0  
      原版本为1.11.8，此次意外升级，造成了项目有意外的报错[todo]  
      ~故，我们高度统一了django版本，并且用源码安装方式进行django-cors安装。  

4. 在URL设计上，我们也是参照了RESTful的设计规范；

- 名词
- HTTP method的语义
- 接口版本的问题- v1/v2/v3
- 返回值- code的使用【http response code/自定义code】 数据返回

5. csrf-token一定程度上加大了csrf的难度